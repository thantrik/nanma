import React from "react";
import "./toggle.style.css";

export default class ToggleMenu extends React.Component<any, any> {
  instanceButton: HTMLImageElement | null;
  instanceItems: HTMLImageElement[] = [];
  instanceMenu: HTMLDivElement | null;
  prevX: number;
  toggleMenu: (show: boolean) => void;
  constructor(props: {}) {
    super(props);
    this.instanceMenu = this.instanceButton = null;

    this.prevX = 0;
    this.toggleMenu = (show: boolean = true) => {
      if (this.instanceButton && this.instanceMenu)
        this.instanceButton.style.display = this.instanceMenu.style.display = show
          ? "block"
          : "none";
    };
    window.onmousemove = (e: MouseEvent) => {
      const toRight = e.clientX > this.prevX;
      const inMargin = e.clientX > window.screen.availWidth - 200;
      if (toRight && inMargin) {
        this.toggleMenu(true);
      } else if (!toRight && !inMargin) {
        this.toggleMenu(false);
      }
      this.prevX = e.pageX;
    };
  }
  showCard = () => {
    this.instanceButton?.classList.toggle("is-rotate");
    for (var i = 0; i < this.instanceItems.length; i++) {
      this.instanceItems[i].classList.toggle(`item-${i}`);
    }
  };
  render() {
    return (
      <div className="menu" ref={(ele) => (this.instanceMenu = ele)}>
        <img
          onClick={this.showCard}
          className="menu__trigger"
          ref={(ele) => (this.instanceButton = ele)}
          src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIw%0D%0AMDAvc3ZnIj4KCiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0i%0D%0Abm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjQwMiIgd2lkdGg9IjU4MiIgeT0i%0D%0ALTEiIHg9Ii0xIi8+CiA8L2c+CiA8Zz4KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+CiAgPHBvbHln%0D%0Ab24gc3Ryb2tlPSIjZmZmZmZmIiBpZD0ic3ZnXzEiIHBvaW50cz0iODAuMiw1MS42IDUxLjQsNTEu%0D%0ANiA1MS40LDIyLjYgNDguOSwyMi42IDQ4LjksNTEuNiAxOS45LDUxLjYgMTkuOSw1NC4xIDQ4Ljks%0D%0ANTQuMSA0OC45LDgzLjEgICA1MS40LDgzLjEgNTEuNCw1NC4xIDgwLjQsNTQuMSA4MC40LDUxLjYg%0D%0AIiBmaWxsPSIjZmZmZmZmIi8+CiA8L2c+Cjwvc3ZnPg=="
        />
        <img
          ref={(ele: HTMLImageElement) => this.instanceItems.push(ele)}
          className="menu__item menu__item--0"
          src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjQ1Ny4wM3B4IiBoZWlnaHQ9IjQ1Ny4wM3B4IiB2aWV3Qm94PSIwIDAgNDU3LjAzIDQ1Ny4wMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDU3LjAzIDQ1Ny4wMzsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTQyMS41MTIsMjA3LjA3NGwtODUuNzk1LDg1Ljc2N2MtNDcuMzUyLDQ3LjM4LTEyNC4xNjksNDcuMzgtMTcxLjUyOSwwYy03LjQ2LTcuNDM5LTEzLjI5Ni0xNS44MjEtMTguNDIxLTI0LjQ2NQ0KCQlsMzkuODY0LTM5Ljg2MWMxLjg5NS0xLjkxMSw0LjIzNS0zLjAwNiw2LjQ3MS00LjI5NmMyLjc1Niw5LjQxNiw3LjU2NywxOC4zMywxNC45NzIsMjUuNzM2YzIzLjY0OCwyMy42NjcsNjIuMTI4LDIzLjYzNCw4NS43NjIsMA0KCQlsODUuNzY4LTg1Ljc2NWMyMy42NjYtMjMuNjY0LDIzLjY2Ni02Mi4xMzUsMC04NS43ODFjLTIzLjYzNS0yMy42NDYtNjIuMTA1LTIzLjY0Ni04NS43NjgsMGwtMzAuNDk5LDMwLjUzMg0KCQljLTI0Ljc1LTkuNjM3LTUxLjQxNS0xMi4yMjgtNzcuMzczLTguNDI0bDY0Ljk5MS02NC45ODljNDcuMzgtNDcuMzcxLDEyNC4xNzctNDcuMzcxLDE3MS41NTcsMA0KCQlDNDY4Ljg2OSw4Mi44OTcsNDY4Ljg2OSwxNTkuNzA2LDQyMS41MTIsMjA3LjA3NHogTTE5NC43MDgsMzQ4LjEwNGwtMzAuNTIxLDMwLjUzMmMtMjMuNjQ2LDIzLjYzNC02Mi4xMjgsMjMuNjM0LTg1Ljc3OCwwDQoJCWMtMjMuNjQ4LTIzLjY2Ny0yMy42NDgtNjIuMTM4LDAtODUuNzk1bDg1Ljc3OC04NS43NjdjMjMuNjY1LTIzLjY2Miw2Mi4xMjEtMjMuNjYyLDg1Ljc2NywwDQoJCWM3LjM4OCw3LjM5LDEyLjIwNCwxNi4zMDIsMTQuOTg2LDI1LjcwNmMyLjI0OS0xLjMwNyw0LjU2LTIuMzY5LDYuNDU0LTQuMjY2bDM5Ljg2MS0zOS44NDUNCgkJYy01LjA5Mi04LjY3OC0xMC45NTgtMTcuMDMtMTguNDIxLTI0LjQ3N2MtNDcuMzQ4LTQ3LjM3MS0xMjQuMTcyLTQ3LjM3MS0xNzEuNTQzLDBMMzUuNTI2LDI0OS45Ng0KCQljLTQ3LjM2Niw0Ny4zODUtNDcuMzY2LDEyNC4xNzIsMCwxNzEuNTUzYzQ3LjM3MSw0Ny4zNTYsMTI0LjE3Nyw0Ny4zNTYsMTcxLjU0NywwbDY1LjAwOC02NS4wMDMNCgkJQzI0Ni4xMDksMzYwLjMzNiwyMTkuNDM3LDM1Ny43MjMsMTk0LjcwOCwzNDguMTA0eiIvPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="
        />
        <img
          ref={(ele: HTMLImageElement) => this.instanceItems.push(ele)}
          className="menu__item menu__item--1"
          src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTAyLjY2NCA1MDIuNjY0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MDIuNjY0IDUwMi42NjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBzdHlsZT0iZmlsbDojMDEwMDAyOyIgZD0iTTE1My44MjEsMzU4LjIyNkwwLDI3NC4zMzd2LTQ2LjQ2M2wxNTMuODIxLTgzLjQxNHY1NC41NzRMNDYuNjM2LDI1MC41MjNsMTA3LjE4NSw1My40MzENCgkJCUMxNTMuODIxLDMwMy45NTQsMTUzLjgyMSwzNTguMjI2LDE1My44MjEsMzU4LjIyNnoiLz4NCgkJPHBhdGggc3R5bGU9ImZpbGw6IzAxMDAwMjsiIGQ9Ik0xODAuMDk0LDM4Ny41ODRMMjgyLjEwMywxMTUuMDhoMzIuMjI3TDIxMi4wODQsMzg3LjU4NEgxODAuMDk0eiIvPg0KCQk8cGF0aCBzdHlsZT0iZmlsbDojMDEwMDAyOyIgZD0iTTM0OC44NDMsMzU4LjIyNnYtNTQuMjcybDEwNy4xNjQtNTIuOTk5bC0xMDcuMTY0LTUyLjU5di01My45MjdsMTUzLjgyMSw4My41MjJ2NDYuMTgzDQoJCQlMMzQ4Ljg0MywzNTguMjI2eiIvPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"
        />
        <img
          ref={(ele: HTMLImageElement) => this.instanceItems.push(ele)}
          className="menu__item menu__item--2"
          src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik01MTIsNzZWNDZoLTQ2VjBoLTMwdjQ2aC0xOVYwaC0zMHY0NmgtMThWMGgtMzB2NDZoLTE5VjBoLTMwdjQ2aC0xOVYwaC0zMHY0NmgtMTlWMGgtMzB2NDZoLTE5VjBoLTMwdjQ2aC0xOFYwSDk1djQ2SDc2DQoJCQlWMEg0NnY0NkgwdjMwaDQ2djE5SDB2MzBoNDZ2MThIMHYzMGg0NnYxOUgwdjMwaDQ2djE5SDB2MzBoNDZ2MTlIMHYzMGg0NnYxOUgwdjMwaDQ2djE4SDB2MzBoNDZ2MTlIMHYzMGg0NnY0NmgzMHYtNDZoMTl2NDZoMzANCgkJCXYtNDZoMTh2NDZoMzB2LTQ2aDE5djQ2aDMwdi00NmgxOXY0NmgzMHYtNDZoMTl2NDZoMzB2LTQ2aDE5djQ2aDMwdi00NmgxOHY0NmgzMHYtNDZoMTl2NDZoMzB2LTQ2aDQ2di0zMGgtNDZ2LTE5aDQ2di0zMGgtNDZ2LTE4DQoJCQloNDZ2LTMwaC00NnYtMTloNDZ2LTMwaC00NnYtMTloNDZ2LTMwaC00NnYtMTloNDZ2LTMwaC00NnYtMTloNDZ2LTMwaC00NnYtMThoNDZWOTVoLTQ2Vjc2SDUxMnogTTQzNiw0MzZINzZWNzZoMzYwVjQzNnoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8Zz4NCgkJPHJlY3QgeD0iMTE2IiB5PSIxMTYiIHdpZHRoPSIxNDEiIGhlaWdodD0iMzAiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8Zz4NCgkJPHJlY3QgeD0iMTE2IiB5PSIxNjYiIHdpZHRoPSIxMTEiIGhlaWdodD0iMzAiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZD0iTTM5MSwxNTZjLTIyLjA1NiwwLTQwLDE3Ljk0NC00MCw0MGMwLDE2Ljc1MiwxMC4zNTcsMzEuMTI0LDI1LDM3LjA3MVYzNzFoLTUzVjE2Ni4wNzFjMTQuNjQzLTUuOTQ3LDI1LTIwLjMxOCwyNS0zNy4wNzENCgkJCWMwLTIyLjA1Ni0xNy45NDQtNDAtNDAtNDBjLTIyLjA1NiwwLTQwLDE3Ljk0NC00MCw0MGMwLDE2Ljc1MiwxMC4zNTcsMzEuMTI0LDI1LDM3LjA3MVYyNzhoLTgwLjkyOQ0KCQkJYy01Ljk0Ny0xNC42NDMtMjAuMzE4LTI1LTM3LjA3MS0yNWMtMjIuMDU2LDAtNDAsMTcuOTQ0LTQwLDQwYzAsMjIuMDU2LDE3Ljk0NCw0MCw0MCw0MGMxNi43NTMsMCwzMS4xMjQtMTAuMzU3LDM3LjA3MS0yNUgyOTN2NjMNCgkJCWgtODAuOTI5Yy01Ljk0Ny0xNC42NDMtMjAuMzE4LTI1LTM3LjA3MS0yNWMtMjIuMDU2LDAtNDAsMTcuOTQ0LTQwLDQwYzAsMjIuMDU2LDE3Ljk0NCw0MCw0MCw0MA0KCQkJYzE2Ljc1MywwLDMxLjEyNC0xMC4zNTcsMzcuMDcxLTI1SDQwNlYyMzMuMDcxYzE0LjY0My01Ljk0NywyNS0yMC4zMTgsMjUtMzcuMDcxQzQzMSwxNzMuOTQ0LDQxMy4wNTYsMTU2LDM5MSwxNTZ6IE0xNzUsMzAzDQoJCQljLTUuNTE0LDAtMTAtNC40ODYtMTAtMTBjMC01LjUxNCw0LjQ4Ni0xMCwxMC0xMGM1LjUxNCwwLDEwLDQuNDg2LDEwLDEwQzE4NSwyOTguNTE0LDE4MC41MTQsMzAzLDE3NSwzMDN6IE0xNzUsMzk2DQoJCQljLTUuNTE0LDAtMTAtNC40ODYtMTAtMTBjMC01LjUxNCw0LjQ4Ni0xMCwxMC0xMGM1LjUxNCwwLDEwLDQuNDg2LDEwLDEwQzE4NSwzOTEuNTE0LDE4MC41MTQsMzk2LDE3NSwzOTZ6IE0zMDgsMTM5DQoJCQljLTUuNTE0LDAtMTAtNC40ODYtMTAtMTBjMC01LjUxNCw0LjQ4Ni0xMCwxMC0xMGM1LjUxNCwwLDEwLDQuNDg2LDEwLDEwUzMxMy41MTQsMTM5LDMwOCwxMzl6IE0zOTEsMjA2Yy01LjUxNCwwLTEwLTQuNDg2LTEwLTEwDQoJCQljMC01LjUxNCw0LjQ4Ni0xMCwxMC0xMGM1LjUxNCwwLDEwLDQuNDg2LDEwLDEwQzQwMSwyMDEuNTE0LDM5Ni41MTQsMjA2LDM5MSwyMDZ6Ii8+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="
        />
      </div>
    );
  }
}
